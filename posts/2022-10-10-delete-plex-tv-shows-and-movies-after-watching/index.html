<!DOCTYPE html>
<html lang="en">
<head>

    <title>Delete Plex TV Shows and Movies After Watching</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preload" as="style" href="/assets/built/screen.css?v=34e6f47cc9">
    <link rel="preload" as="script" href="/assets/built/source.js?v=34e6f47cc9">

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=34e6f47cc9">

    <style>
        :root {
            --background-color: #ffffff
        }
    </style>

    <script>
        /* The script for calculating the color contrast has been taken from
        https://gomakethings.com/dynamically-changing-the-text-color-based-on-background-color-contrast-with-vanilla-js/ */
        var accentColor = getComputedStyle(document.documentElement).getPropertyValue('--background-color');
        accentColor = accentColor.trim().slice(1);
        var r = parseInt(accentColor.substr(0, 2), 16);
        var g = parseInt(accentColor.substr(2, 2), 16);
        var b = parseInt(accentColor.substr(4, 2), 16);
        var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;
        var textColor = (yiq >= 128) ? 'dark' : 'light';

        document.documentElement.className = `has-${textColor}-text`;
    </script>

    <link rel="icon" href="https://madebynathan.com/content/images/size/w256h256/2024/04/android-chrome-256x256.png" type="image/png">
    <link rel="canonical" href="https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Made By Nathan">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Delete Plex TV Shows and Movies After Watching">
    <meta property="og:description" content="Plex-Cleaner is a Python script that can clean up your Plex directory by deleting movies and TV shows after you&#x27;ve watched them. This will stop your disk from filling up with lots of old media files over time. You can run this script on your server (or Raspberry Pi, or">
    <meta property="og:url" content="https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/">
    <meta property="og:image" content="https://static.ghost.org/v5.0.0/images/publication-cover.jpg">
    <meta property="article:published_time" content="2022-10-10T00:36:15.000Z">
    <meta property="article:modified_time" content="2024-04-19T04:02:04.000Z">
    <meta property="article:tag" content="plex">
    <meta property="article:tag" content="debian">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Delete Plex TV Shows and Movies After Watching">
    <meta name="twitter:description" content="Plex-Cleaner is a Python script that can clean up your Plex directory by deleting movies and TV shows after you&#x27;ve watched them. This will stop your disk from filling up with lots of old media files over time. You can run this script on your server (or Raspberry Pi, or">
    <meta name="twitter:url" content="https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/">
    <meta name="twitter:image" content="https://static.ghost.org/v5.0.0/images/publication-cover.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Nathan Broadbent">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="plex, debian">
    <meta name="twitter:site" content="@ndbroadbent">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="840">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Made By Nathan",
        "url": "https://madebynathan.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://madebynathan.com/content/images/size/w256h256/2024/04/android-chrome-256x256.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Nathan Broadbent",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.gravatar.com/avatar/dfba62f695988e9b7cb5153966ae0ac5?s=250&r=x&d=mp",
            "width": 250,
            "height": 250
        },
        "url": "https://madebynathan.com/author/nathan/",
        "sameAs": []
    },
    "headline": "Delete Plex TV Shows and Movies After Watching",
    "url": "https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/",
    "datePublished": "2022-10-10T00:36:15.000Z",
    "dateModified": "2024-04-19T04:02:04.000Z",
    "keywords": "plex, debian",
    "description": "Plex-Cleaner is a Python script that can clean up your Plex directory by deleting movies and TV shows after you&#x27;ve watched them. This will stop your disk from filling up with lots of old media files over time. You can run this script on your server (or Raspberry Pi, or wherever you run Plex Media Server.)\n\n\nI like to put things in the /opt directory on my servers.\n\n\n * \n   \n   \n   Run git clone https://github.com/ndbroadbent/Plex-Cleaner.git /opt\n   \n\n * \n   \n   \n   Run python3 PlexCleaner.py --",
    "mainEntityOfPage": "https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/"
}
    </script>

    <meta name="generator" content="Ghost 5.82">
    <link rel="alternate" type="application/rss+xml" title="Made By Nathan" href="https://madebynathan.com/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="2675eb65489ed4381db100a852" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://madebynathan.com/" crossorigin="anonymous"></script>
    
    <link href="https://madebynathan.com/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=34e6f47cc9"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=34e6f47cc9">
    <script defer data-domain="madebynathan.com" data-api="https://pa.ndbr.workers.dev/api" src="https://pa.ndbr.workers.dev/main.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.5.0/prism-xonokai.min.css" integrity="sha512-+5xrjo9FRrb9vHw75lHK0yJxZpwpOWLa8WKl8Wzio0ACZTxLZ40L+yR/RWUscIjPzMbITpxOV4YzxAe3rBn/bw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
  .nav-sign-up { display: none; }
  #disqus_thread {
    max-width: 700px;
    margin: auto;
    margin-top: 20px;
  }
</style>
<style>:root {--ghost-accent-color: #5619ff;}</style>

</head>
<body class="post-template tag-plex tag-debian tag-hash-import-2024-04-19-15-41 tag-hash-new-routing has-sans-title has-sans-body">

<div class="gh-viewport">
    
    <header id="gh-navigation" class="gh-navigation is-middle-logo gh-outer">
    <div class="gh-navigation-inner gh-inner">

        <div class="gh-navigation-brand">
            <a class="gh-navigation-logo is-title" href="https://madebynathan.com">
                    Made By Nathan
            </a>
            <button class="gh-search gh-icon-button" aria-label="Search this site" data-ghost-search>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>            <button class="gh-burger gh-icon-button" aria-label="Menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg>                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>            </button>
        </div>

        <nav class="gh-navigation-menu">
            <ul class="nav">
    <li class="nav-blog"><a href="https://madebynathan.com/">Blog</a></li>
    <li class="nav-personal-site"><a href="https://ndbroadbent.com">Personal Site</a></li>
    <li class="nav-docspring"><a href="https://docspring.com">DocSpring</a></li>
</ul>

        </nav>

        <div class="gh-navigation-actions">
                    <button class="gh-search gh-icon-button" aria-label="Search this site" data-ghost-search>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>        </div>

    </div>
</header>

    

<main class="gh-main">

    <article class="gh-article post tag-plex tag-debian tag-hash-import-2024-04-19-15-41 tag-hash-new-routing no-image">

        <header class="gh-article-header gh-canvas">

                <a class="gh-article-tag" href="https://madebynathan.com/tag/plex/">plex</a>
            <h1 class="gh-article-title is-title">Delete Plex TV Shows and Movies After Watching</h1>

            <div class="gh-article-meta">
                <div class="gh-article-author-image">
                            <a href="/author/nathan/">
                                <img class="author-profile-image" src="https://www.gravatar.com/avatar/dfba62f695988e9b7cb5153966ae0ac5?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="Nathan Broadbent" />
                            </a>
                </div>
                <div class="gh-article-meta-wrapper">
                    <h4 class="gh-article-author-name"><a href="/author/nathan/">Nathan Broadbent</a></h4>
                    <div class="gh-article-meta-content">
                        <time class="gh-article-meta-date" datetime="2022-10-10">Oct 10, 2022</time>
                            <span class="gh-article-meta-length"><span class="bull">—</span> 2 min read</span>
                    </div>
                </div>
            </div>

            
        </header>

        <section class="gh-content gh-canvas is-body">
            <p><a href="https://github.com/ndbroadbent/Plex-Cleaner?ref=ghost.ndbroadbent.com"><code>Plex-Cleaner</code></a> is a Python script that can clean up your Plex directory by deleting movies and TV shows after you've watched them. This will stop your disk from filling up with lots of old media files over time. You can run this script on your server (or Raspberry Pi, or wherever you run Plex Media Server.)</p>
<p>I like to put things in the <code>/opt</code> directory on my servers.</p>
<ul>
<li>
<p>Run <code>git clone https://github.com/ndbroadbent/Plex-Cleaner.git /opt</code></p>
</li>
<li>
<p>Run <code>python3 PlexCleaner.py --dump Cleaner.conf</code> to create a new configuration file</p>
</li>
<li>
<p>Configure an authentication token in <code>Cleaner.conf</code>, under the <code>"Token"</code> key.</p>
<ul>
<li><a href="https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/?ref=ghost.ndbroadbent.com">Here's how to get an authentication token.</a></li>
</ul>
</li>
<li>
<p>Call <code>python3 PlexCleaner.py</code> to test it out.</p>
</li>
</ul>
<p>The script will run in test mode and won't delete anything if your <code>Cleaner.conf</code> contains <code>"test": true</code>, or if you call <code>python3 PlexCleaner.py --test</code>.</p>
<ul>
<li>After everything looks good in the logs, set <code>"test": false</code> in <code>Cleaner.conf</code>.</li>
</ul>
<p>You'll probably want to run this script regularly as a cron job. Run <code>crontab -e</code> to edit your crontab, then add the following line to run the script every day at 4am:</p>
<pre><code>0 4 * * * /usr/bin/python3 /opt/Plex-Cleaner/PlexCleaner.py
</code></pre>
<br>
<hr>
<p>I always like to set up monitoring for any scheduled scripts so that I get a notification <s>if</s>&nbsp;when they stop working. <a href="https://healthchecks.io/?ref=ghost.ndbroadbent.com">healthchecks.io</a> is my favorite monitoring tool and they have a generous free tier. <em>(No affiliation, they're just an awesome service.)</em></p>
<p>To set up monitoring with healthchecks.io, you can call the <code>run_plex_cleaner.sh</code> script from <a href="https://github.com/ndbroadbent/Plex-Cleaner?ref=ghost.ndbroadbent.com">my fork</a>. This script will ping <a href="https://healthchecks.io/?ref=ghost.ndbroadbent.com">healthchecks.io</a> on success or failure. <a href="https://healthchecks.io/?ref=ghost.ndbroadbent.com">healthchecks.io</a> will also send you a notification if it doesn't receive any ping at the expected time (e.g. if your server has been turned off.)</p>
<ul>
<li>Sign up for a free <a href="https://healthchecks.io/?ref=ghost.ndbroadbent.com">healthchecks.io</a> account.</li>
<li>Create a new check. Choose the "Cron" schedule and enter your cron expression, e.g. <code>0 4 * * *</code>.</li>
<li>Make sure you also set the correct Time Zone in the options.</li>
<li>Save the healthchecks.io check ID to a <code>healthchecksio_id</code> file in the <code>Plex-Cleaner</code> directory</li>
<li>Set the log file option in <code>Cleaner.conf</code> so that it writes logs to a file:</li>
</ul>
<pre><code>"LogFile": "/opt/Plex-Cleaner/plexcleaner.log",
</code></pre>
<ul>
<li>Set up this cron job entry (instead of the one above):</li>
</ul>
<pre><code>0 4 * * * /opt/Plex-Cleaner/run_plex_cleaner.sh
</code></pre>
<br>
<p>Now you'll get an email alert whenever something goes wrong:</p>
<ul>
<li>The script exits with an error</li>
<li>The <code>plexcleaner.log</code> log file contains any <code>ERROR</code> entries</li>
<li>The script doesn't run at all</li>
</ul>

        </section>

    </article>

    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "https://madebynathan.com/posts/2022-10-10-delete-plex-tv-shows-and-movies-after-watching/";
        };
        (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://madebynathan.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>

</main>


            <section class="gh-container is-grid gh-outer">
                <div class="gh-container-inner gh-inner">
                    <h2 class="gh-container-title">Read more</h2>
                    <div class="gh-feed">
                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="/2024/04/19/new-blog-who-dis/">
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Migrating from Hugo to Ghost</h3>
                    <p class="gh-card-excerpt is-body">I haven&#39;t been able to write any blog posts since I got an M2 MacBook. I was using an old version of Hugo and got it running in a Docker container, but the Docker container only ran on my old Intel Mac. It was too painful to update</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2024-04-19">Apr 19, 2024</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="/posts/2022-10-30-e24-resistor-pack-ring-binder/">
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Organizing 1,700 Resistors in a Ring Binder</h3>
                    <p class="gh-card-excerpt is-body">I used a ring binder and card sleeves to organize 1,700 through-hole resistors.



You can use this PDF to make your own ring binder:





 * Download E24_Resistor_Kit_Folder.pdf
 * Liquid and SCSS that was used to generate the PDF





The template code and generated PDF document are released</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2022-10-30">Oct 30, 2022</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="/posts/2022-10-07-can-you-plug-a-sata-drive-into-a-sas-controller/">
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Can you plug a SATA drive into a SAS controller?</h3>
                    <p class="gh-card-excerpt is-body">Yes.



SATA and SAS use very similar connectors, but a SATA connector has a gap in the middle. This means that you can physically plug a SATA drive into a SAS connector, but you can&#39;t plug a SAS drive into a SATA controller (because it won&#39;t</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2022-10-07">Oct 7, 2022</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post no-image">
    <a class="gh-card-link" href="/2022/10/01/how-to-create-a-favicon-with-stable-diffusion-and-dalle-2/">
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Creating a new favicon with text-to-image AI</h3>
                    <p class="gh-card-excerpt is-body">It&#39;s been a while since I wrote a blog post about creating a favicon.ico file for your website or blog. Things have changed a bit since I wrote that blog post in May 2010.


I&#39;ve been updating the CSS for my blog recently, and I</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2022-10-02">Oct 2, 2022</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                    </div>
                </div>
            </section>

    
    <footer class="gh-footer gh-outer">
    <div class="gh-footer-inner gh-inner">

        <div class="gh-footer-bar">
            <span class="gh-footer-logo is-title">
                    Made By Nathan
            </span>
            <nav class="gh-footer-menu">
                <ul class="nav">
    <li class="nav-sign-up"><a href="#/portal/">Sign up</a></li>
</ul>

            </nav>
            <div class="gh-footer-copyright">
                Powered by <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
            </div>
        </div>


    </div>
</footer>    
</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script src="/assets/built/source.js?v=34e6f47cc9"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
