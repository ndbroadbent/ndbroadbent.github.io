<!DOCTYPE html>
<html lang="en">
<head>

    <title>Raspberry Pi Microwave</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preload" as="style" href="/assets/built/screen.css?v=500e4eef8e">
    <link rel="preload" as="script" href="/assets/built/source.js?v=500e4eef8e">

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=500e4eef8e">

    <style>
        :root {
            --background-color: #ffffff
        }
    </style>

    <script>
        /* The script for calculating the color contrast has been taken from
        https://gomakethings.com/dynamically-changing-the-text-color-based-on-background-color-contrast-with-vanilla-js/ */
        var accentColor = getComputedStyle(document.documentElement).getPropertyValue('--background-color');
        accentColor = accentColor.trim().slice(1);
        var r = parseInt(accentColor.substr(0, 2), 16);
        var g = parseInt(accentColor.substr(2, 2), 16);
        var b = parseInt(accentColor.substr(4, 2), 16);
        var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;
        var textColor = (yiq >= 128) ? 'dark' : 'light';

        document.documentElement.className = `has-${textColor}-text`;
    </script>

    <link rel="icon" href="https://madebynathan.com/content/images/size/w256h256/2024/04/android-chrome-256x256.png" type="image/png">
    <link rel="canonical" href="https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Made By Nathan">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Raspberry Pi Microwave">
    <meta property="og:description" content="A few months ago, I was inspired by this post on Reddit, titled: Food items should have QR codes that instruct the microwave exactly what to do. Like high for 2 minutes, let stand 1 minute, medium 1 minutes..


I thought this was a pretty cool idea, and that it">
    <meta property="og:url" content="https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/">
    <meta property="og:image" content="https://madebynathan.com/content/images/2024/04/cooking_pie_filling-1.jpg">
    <meta property="article:published_time" content="2013-07-10T23:51:47.000Z">
    <meta property="article:modified_time" content="2024-04-20T14:34:00.000Z">
    <meta property="article:tag" content="raspberry-pi">
    <meta property="article:tag" content="microwave">
    <meta property="article:tag" content="kitchen">
    <meta property="article:tag" content="appliances">
    <meta property="article:tag" content="ruby">
    <meta property="article:tag" content="rails">
    <meta property="article:tag" content="sinatra">
    <meta property="article:tag" content="linux videos">
    <meta property="article:tag" content="electronics">
    <meta property="article:tag" content="home-automation">
    <meta property="article:tag" content="projects">
    <meta property="article:tag" content="c">
    <meta property="article:tag" content="kitchen-automation">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Raspberry Pi Microwave">
    <meta name="twitter:description" content="A few months ago, I was inspired by this post on Reddit, titled: Food items should have QR codes that instruct the microwave exactly what to do. Like high for 2 minutes, let stand 1 minute, medium 1 minutes..


I thought this was a pretty cool idea, and that it">
    <meta name="twitter:url" content="https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/">
    <meta name="twitter:image" content="https://madebynathan.com/content/images/2024/04/cooking_pie_filling-1.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Nathan Broadbent">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="raspberry-pi, microwave, kitchen, appliances, ruby, rails, sinatra, linux videos, electronics, home-automation, projects, c, kitchen-automation">
    <meta name="twitter:site" content="@ndbroadbent">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="674">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Made By Nathan",
        "url": "https://madebynathan.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://madebynathan.com/content/images/size/w256h256/2024/04/android-chrome-256x256.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Nathan Broadbent",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.gravatar.com/avatar/dfba62f695988e9b7cb5153966ae0ac5?s=250&r=x&d=mp",
            "width": 250,
            "height": 250
        },
        "url": "https://madebynathan.com/author/nathan/",
        "sameAs": []
    },
    "headline": "Raspberry Pi Microwave",
    "url": "https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/",
    "datePublished": "2013-07-10T23:51:47.000Z",
    "dateModified": "2024-04-20T14:34:00.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://madebynathan.com/content/images/2024/04/cooking_pie_filling-1.jpg",
        "width": 1200,
        "height": 674
    },
    "keywords": "raspberry-pi, microwave, kitchen, appliances, ruby, rails, sinatra, linux videos, electronics, home-automation, projects, c, kitchen-automation",
    "description": "A few months ago, I was inspired by this post on Reddit, titled: Food items should have QR codes that instruct the microwave exactly what to do. Like high for 2 minutes, let stand 1 minute, medium 1 minutes..\n\n\nI thought this was a pretty cool idea, and that it would be a fun project for a Raspberry Pi. I agreed with the people who thought using UPC barcodes would be better, since products already have them, so I went with a barcode scanner + online product database.\n\n\nHere&#x27;s a summary of the fe",
    "mainEntityOfPage": "https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/"
}
    </script>

    <meta name="generator" content="Ghost 5.82">
    <link rel="alternate" type="application/rss+xml" title="Made By Nathan" href="https://madebynathan.com/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="2675eb65489ed4381db100a852" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://madebynathan.com/" crossorigin="anonymous"></script>
    
    <link href="https://madebynathan.com/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=500e4eef8e"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=500e4eef8e">
    <script defer data-domain="madebynathan.com" data-api="https://pa.ndbr.workers.dev/api" src="https://pa.ndbr.workers.dev/main.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.5.0/prism-xonokai.min.css" integrity="sha512-+5xrjo9FRrb9vHw75lHK0yJxZpwpOWLa8WKl8Wzio0ACZTxLZ40L+yR/RWUscIjPzMbITpxOV4YzxAe3rBn/bw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
  .gh-navigation-actions button.gh-search {
    display: none;
  }
  
  .nav-sign-up { 
    display: none; 
  }
  
  #disqus_thread {
    max-width: 700px;
    margin: auto;
    margin-top: 20px;
  }
</style>
<style>:root {--ghost-accent-color: #5619ff;}</style>

</head>
<body class="post-template tag-raspberry-pi tag-microwave tag-kitchen tag-appliances tag-ruby tag-rails tag-sinatra tag-linux-videos tag-electronics tag-home-automation tag-projects tag-c tag-hash-import-2024-04-19-15-41 tag-kitchen-automation has-sans-title has-sans-body">

<div class="gh-viewport">
    
    <header id="gh-navigation" class="gh-navigation is-middle-logo gh-outer">
    <div class="gh-navigation-inner gh-inner">

        <div class="gh-navigation-brand">
            <a class="gh-navigation-logo is-title" href="https://madebynathan.com">
                    Made By Nathan
            </a>
            <button class="gh-search gh-icon-button" aria-label="Search this site" data-ghost-search>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>            <button class="gh-burger gh-icon-button" aria-label="Menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg>                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>            </button>
        </div>

        <nav class="gh-navigation-menu">
            <ul class="nav">
    <li class="nav-blog"><a href="https://madebynathan.com/">Blog</a></li>
    <li class="nav-personal-site"><a href="https://ndbroadbent.com">Personal Site</a></li>
    <li class="nav-docspring"><a href="https://docspring.com">DocSpring</a></li>
</ul>

        </nav>

        <div class="gh-navigation-actions">
                    <button class="gh-search gh-icon-button" aria-label="Search this site" data-ghost-search>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>        </div>

    </div>
</header>

    

<main class="gh-main">

    <article class="gh-article post tag-raspberry-pi tag-microwave tag-kitchen tag-appliances tag-ruby tag-rails tag-sinatra tag-linux-videos tag-electronics tag-home-automation tag-projects tag-c tag-hash-import-2024-04-19-15-41 tag-kitchen-automation featured">

        <header class="gh-article-header gh-canvas">

                <a class="gh-article-tag" href="https://madebynathan.com/tag/raspberry-pi/">raspberry-pi</a>
            <h1 class="gh-article-title is-title">Raspberry Pi Microwave</h1>

            <div class="gh-article-meta">
                <div class="gh-article-author-image">
                            <a href="/author/nathan/">
                                <img class="author-profile-image" src="https://www.gravatar.com/avatar/dfba62f695988e9b7cb5153966ae0ac5?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="Nathan Broadbent" />
                            </a>
                </div>
                <div class="gh-article-meta-wrapper">
                    <h4 class="gh-article-author-name"><a href="/author/nathan/">Nathan Broadbent</a></h4>
                    <div class="gh-article-meta-content">
                        <time class="gh-article-meta-date" datetime="2013-07-11">Jul 11, 2013</time>
                            <span class="gh-article-meta-length"><span class="bull">—</span> 6 min read</span>
                    </div>
                </div>
            </div>

                <figure class="gh-article-image">
        <img
            srcset="/content/images/size/w320/2024/04/cooking_pie_filling-1.jpg 320w,
                    /content/images/size/w600/2024/04/cooking_pie_filling-1.jpg 600w,
                    /content/images/size/w960/2024/04/cooking_pie_filling-1.jpg 960w,
                    /content/images/size/w1200/2024/04/cooking_pie_filling-1.jpg 1200w,
                    /content/images/size/w2000/2024/04/cooking_pie_filling-1.jpg 2000w"
            src="/content/images/size/w1200/2024/04/cooking_pie_filling-1.jpg"
            alt="Raspberry Pi Microwave"
        >
    </figure>

        </header>

        <section class="gh-content gh-canvas is-body">
            <p>A few months ago, I was inspired by <a href="https://www.reddit.com/r/CrazyIdeas/comments/1djrnx/food_items_should_have_qr_codes_that_instruct_the/">this post</a> on Reddit, titled: <strong>Food items should have QR codes that instruct the microwave exactly what to do. Like high for 2 minutes, let stand 1 minute, medium 1 minutes.</strong>.</p>
<p>I thought this was a pretty cool idea, and that it would be a fun project for a Raspberry Pi. I agreed with the people who thought using UPC barcodes would be better, since products already have them, so I went with a barcode scanner + online product database.</p>
<p>Here's a summary of the features that I've added to my microwave:</p>
<ul>
<li>Re-designed touchpad</li>
<li>Nicer sounds</li>
<li>Clock is automatically updated from the internet</li>
<li>Can be controlled with voice commands</li>
<li>Can use a barcode scanner to look up cooking instructions from an online database</li>
<li>There weren't any online microwave cooking databases around, so I made one: <a href="https://microwavecookingdb.com">https://microwavecookingdb.com</a></li>
<li>The microwave has a web page so you can control it from your phone (why not), and set up cooking instructions for products</li>
<li>Tweets after it's finished cooking something (See <a href="https://twitter.com/rbmicrowave">https://twitter.com/rbmicrowave</a>)</li>
</ul>
<h1 id="demo-video">Demo Video</h1><figure class="kg-card kg-embed-card"><iframe width="200" height="113" src="https://www.youtube.com/embed/e2YtARzJTys?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="" title="Raspberry Pi Microwave - Feature Demo"></iframe></figure><h1 id="using-a-raspberry-pi-to-cook-a-raspberry-pie">Using a Raspberry Pi to cook a Raspberry Pie</h1><p><a href="https://frugalfastfun.blogspot.co.nz/2009/08/surprise-pies-using-microwave.html">Here's the recipe I followed.</a></p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/a_slice_of_pi.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/a_slice_of_pi.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/a_slice_of_pi.jpg 1000w, https://madebynathan.com/content/images/2024/04/a_slice_of_pi.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/cooking_pie_filling.jpg" width="1258" height="707" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/cooking_pie_filling.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/cooking_pie_filling.jpg 1000w, https://madebynathan.com/content/images/2024/04/cooking_pie_filling.jpg 1258w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/ingredients.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/ingredients.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/ingredients.jpg 1000w, https://madebynathan.com/content/images/2024/04/ingredients.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/mixing.jpg" width="768" height="1024" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/mixing.jpg 600w, https://madebynathan.com/content/images/2024/04/mixing.jpg 768w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/raspberry_pi_raspberry_pie.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/raspberry_pi_raspberry_pie.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/raspberry_pi_raspberry_pie.jpg 1000w, https://madebynathan.com/content/images/2024/04/raspberry_pi_raspberry_pie.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><h1 id="hardware">Hardware</h1><p>I used a microwave with a touchpad, and discovered that the touchpad was a button matrix. I took photos of the touchpad and traced the wires, so that I could tell which pins corresponded to which buttons.</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/original_touchpad.jpg" width="401" height="1000" loading="lazy" alt=""></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/touchpad_no_traces.jpg" width="800" height="1067" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/touchpad_no_traces.jpg 600w, https://madebynathan.com/content/images/2024/04/touchpad_no_traces.jpg 800w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/touchpad_traces.jpg" width="800" height="1067" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/touchpad_traces.jpg 600w, https://madebynathan.com/content/images/2024/04/touchpad_traces.jpg 800w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><p>I initially wanted to put everything in a case outside the microwave, but I decided that it would be more challenging and fun to try and fit everything inside. Here's all the PCB revisions, before I settled on a design that would fit neatly on top of the microwave's original PCB.</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/pcb_1.jpg" width="1052" height="525" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/pcb_1.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/pcb_1.jpg 1000w, https://madebynathan.com/content/images/2024/04/pcb_1.jpg 1052w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/pcb_2.jpg" width="820" height="620" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/pcb_2.jpg 600w, https://madebynathan.com/content/images/2024/04/pcb_2.jpg 820w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/pcb_3.jpg" width="507" height="715" loading="lazy" alt=""></div></div></div></figure><p>I used shift registers and optocouplers to control the touchpad pins. To listen for touchpad presses, an output shift register scans one line at a time on the first touchpad layer, and an input shift register listens for connections to the second layer.</p><p>I unsoldered the touchpad connector from the original circuit board, and replaced it with a row of pin headers. I then used the original touchpad connector on my PCB, so that my circuit acts as a kind of proxy for button presses.</p><p>Here's the final product after transferring toner, etching, drilling, and soldering. (I had to use the ribbon cables to save space.)</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/ready_to_etch.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/ready_to_etch.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/ready_to_etch.jpg 1000w, https://madebynathan.com/content/images/2024/04/ready_to_etch.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/soldered.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/soldered.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/soldered.jpg 1000w, https://madebynathan.com/content/images/2024/04/soldered.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/pcb_bottom.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/pcb_bottom.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/pcb_bottom.jpg 1000w, https://madebynathan.com/content/images/2024/04/pcb_bottom.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><p>And here's how it fits on top of the microwave controller:</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/plugged_in1.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/plugged_in1.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/plugged_in1.jpg 1000w, https://madebynathan.com/content/images/2024/04/plugged_in1.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/plugged_in2.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/plugged_in2.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/plugged_in2.jpg 1000w, https://madebynathan.com/content/images/2024/04/plugged_in2.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><p>When I peeled off the old touchpad overlay, it became wrinkled and ugly, so I thought I may as well have a go at redesigning the interface. My goal was to get rid of the features I don't really use, and make the basic functions more convenient. The top two rows of buttons are now dedicated to "one touch" cooking times, for either "high" or "medium" power. You can also set the time and power manually.</p>
<!--kg-card-begin: html-->
<a class="image" href="https://madebynathan.com/content/images/posts/2013/07/touchpad.jpg" target="_blank" rel="noopener noreferrer">
  <img style="margin: auto;" width="145" src="https://madebynathan.com/content/images/posts/2013/07/touchpad-resized-post.jpg" alt="Touchpad" />
</a>

<!--kg-card-end: html-->
<p>You might have noticed that I started the project with the intention of using an <a href="https://arduino.cc/en/Main/ArduinoBoardNano">Arduino Nano</a> plugged into a Raspberry Pi USB port. This was because I was a) familiar with the Arduino, b) not familiar with the Raspberry Pi GPIO, and c) thought it would make testing and debugging a bit easier, since I could just plug the Arduino into my laptop.</p><p>However, it turns out that my Raspberry Pi had some issues with the arduino's FTDI chip if the Raspberry Pi was turned on while the Arduino was plugged in. It wouldn't recognize the Arduino until I unplugged it, and then plugged it back in again.</p><p>So I decided to make an Arduino Nano =&gt; Raspberry Pi GPIO adapter, and port my Arduino code to the Raspberry Pi GPIO using the <a href="https://wiringpi.com/">WiringPi</a> library.</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/arduino_raspberry_adapter.jpg" width="565" height="638" loading="lazy" alt=""></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/raspberry_adapter_top.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/raspberry_adapter_top.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/raspberry_adapter_top.jpg 1000w, https://madebynathan.com/content/images/2024/04/raspberry_adapter_top.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/raspberry_adapter_bottom.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/raspberry_adapter_bottom.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/raspberry_adapter_bottom.jpg 1000w, https://madebynathan.com/content/images/2024/04/raspberry_adapter_bottom.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/raspberry_adapter_connected.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/raspberry_adapter_connected.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/raspberry_adapter_connected.jpg 1000w, https://madebynathan.com/content/images/2024/04/raspberry_adapter_connected.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><p>The Raspberry Pi is powered by a USB hub, which is also plugged into the Raspberry Pi's USB port. To power the hub, I wired up a power adapter to the microwave's power source. There's also a USB powered speaker, USB microphone, wifi adapter, and barcode scanner.</p><figure class="kg-card kg-gallery-card kg-width-wide"><div class="kg-gallery-container"><div class="kg-gallery-row"><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/power_adapter.jpg" width="768" height="1024" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/power_adapter.jpg 600w, https://madebynathan.com/content/images/2024/04/power_adapter.jpg 768w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/usb_hub.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/usb_hub.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/usb_hub.jpg 1000w, https://madebynathan.com/content/images/2024/04/usb_hub.jpg 1024w" sizes="(min-width: 720px) 720px"></div><div class="kg-gallery-image"><img src="https://madebynathan.com/content/images/2024/04/microphone_wifi.jpg" width="1024" height="768" loading="lazy" alt="" srcset="https://madebynathan.com/content/images/size/w600/2024/04/microphone_wifi.jpg 600w, https://madebynathan.com/content/images/size/w1000/2024/04/microphone_wifi.jpg 1000w, https://madebynathan.com/content/images/2024/04/microphone_wifi.jpg 1024w" sizes="(min-width: 720px) 720px"></div></div></div></figure><p></p><h1 id="microwave-software">Microwave Software</h1>
<p>All the software running on the Raspberry Pi is hosted at: <a href="https://github.com/ndbroadbent/raspberry_picrowave">https://github.com/ndbroadbent/raspberry_picrowave</a>.</p>
<p>There are 4 main components:</p>
<h2 id="microwave-daemon">Microwave Daemon</h2>
<p>This runs the code that listens for touchpad button presses, and controls the microwave. It also accepts TCP connections so that other programs can send commands or request information about the microwave's status.</p>
<h2 id="barcode-instructions">Barcode Instructions</h2>
<p>This program listens to the barcode scanner, and requests product information from the Microwave Cooking Database. It also runs the cooking programs.</p>
<h2 id="voice-control">Voice Control</h2>
<p>I used <a href="https://cmusphinx.sourceforge.net/">PocketSphinx</a> for voice recognition, which worked very well with my small <a href="https://github.com/ndbroadbent/raspberry_picrowave/blob/master/voice_control/corpus.txt">corpus</a>. I embedded Ruby in the <a href="https://github.com/ndbroadbent/raspberry_picrowave/blob/master/voice_control/pocketsphinx_microwave.c">pocketsphinx_contiunous</a> C program, so that it would be easier to <a href="https://github.com/ndbroadbent/raspberry_picrowave/blob/master/voice_control/voice_control.rb">script voice commands</a> and send commands to the microwave daemon. It turns out that the acoustics of my kitchen seem to mess up the recognition, so it won't be used very often.</p>
<h2 id="sinatra-app">Sinatra App</h2>
<p>There's a simple <a href="https://github.com/ndbroadbent/raspberry_picrowave/blob/master/sinatra_app/microwave_webapp.rb">sinatra web application</a> that lets you control the microwave from your phone or computer. This may not be a big selling point. It uses a <a href="https://github.com/ndbroadbent/raspberry_picrowave/blob/master/sinatra_app/public/application.js">JavaScript EventSource</a> to push updates to the browser, so you could have hundreds of users connected to your microwave at once.</p>
<p>If any barcodes are scanned that can't be found on the Microwave Cooking Database, this webpage will display the unknown barcodes and provide a link to add the new product.</p>
<h2 id="microwave-cooking-database">Microwave Cooking Database</h2>
<p>I couldn't find any existing websites with a database of microwave cooking instructions, so I made one.</p>
<a class="image" href="https://madebynathan.com/content/images/posts/2013/07/mwcdb.png" target="_blank" rel="noopener noreferrer">
  <img src="https://madebynathan.com/content/images/posts/2013/07/mwcdb-resized-post.png" alt="Microwave Cooking Database">
</a>
<blockquote>
<p>UPDATE: It used to be live at <a href="https://www.microwavecookingdb.com/">https://www.microwavecookingdb.com/</a>, but the domain has now expired. Sorry!</p>
</blockquote>
<p>If cooking instructions are posted for a 1000W microwave, you can request the instructions for a 700W microwave, and the cooking times will be automatically adjusted.</p>
<p>So if you're also planning on making an internet connected microwave with a barcode scanner, please feel free to sign up and add some products.</p>
<!--
# Patents?

Nope, this is just a fun project. [Microwaves with barcode scanners already exist](https://www.amazon.com/Beyond-WBYMW1-850-Watt-Microwave-Scanning/dp/B0000C8W7Z/ref=cm_cr_pr_product_top), and [most](https://www.google.com/patents/US4323773) of these [features](https://www.google.com/patents/US6124583) are [already](https://www.google.com/patents/US6444965) [patented](https://www.google.com/patents/EP1117275A2?cl=en). -->
<h1 id="thanks-for-reading">Thanks for reading!</h1>
<p>I'd be interested to hear if you build something similar!</p>
<!-- , or make use of [https://www.microwavecookingdb.com](https://www.microwavecookingdb.com). -->

        </section>

    </article>

    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "https://madebynathan.com/2013/07/10/raspberry-pi-powered-microwave/";
        };
        (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://madebynathan.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>

</main>


            <section class="gh-container is-grid gh-outer">
                <div class="gh-container-inner gh-inner">
                    <h2 class="gh-container-title">Read more</h2>
                    <div class="gh-feed">
                            <article class="gh-card post">
    <a class="gh-card-link" href="/2024/05/05/pegboard-mounts-for-stanley-fatmax-v20-tools/">
            <figure class="gh-card-image">
                <img
                    srcset="/content/images/size/w160/format/webp/2024/05/IMG_9450.jpeg 160w,
                            /content/images/size/w320/format/webp/2024/05/IMG_9450.jpeg 320w,
                            /content/images/size/w600/format/webp/2024/05/IMG_9450.jpeg 600w,
                            /content/images/size/w960/format/webp/2024/05/IMG_9450.jpeg 960w,
                            /content/images/size/w1200/format/webp/2024/05/IMG_9450.jpeg 1200w,
                            /content/images/size/w2000/format/webp/2024/05/IMG_9450.jpeg 2000w"
                    sizes="320px"
                    src="/content/images/size/w600/2024/05/IMG_9450.jpeg"
                    alt="3D Printed Pegboard Mounts for Stanley Fatmax V20 Power Tools"
                    loading="lazy"
                >
            </figure>
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">3D Printed Pegboard Mounts for Stanley Fatmax V20 Power Tools</h3>
                    <p class="gh-card-excerpt is-body">I have some Stanley Fatmax power tools:

 * Impact Driver
 * Drill
 * Jigsaw
 * Sander
 * Circular Saw

I also have their lawnmower, leaf blower, and pressure washer. It&#39;s great that we can use the same batteries for everything.

I decided to mount the hand-held power tools on a pegboard in my</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2024-05-05">May 5, 2024</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post">
    <a class="gh-card-link" href="/2024/05/03/configuring-the-start-and-stop-positions-for-a-zigbee-blinds-motor-without-a-remote/">
            <figure class="gh-card-image">
                <img
                    srcset="https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;160 160w,
                            https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;320 320w,
                            https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                            https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w,
                            https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1200 1200w,
                            https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
                    sizes="320px"
                    src="https://images.unsplash.com/photo-1693142192909-04876a9d7415?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDUyfHxyb2xsZXIlMjBibGluZHN8ZW58MHx8fHwxNzE0OTA5NzcyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600"
                    alt="Zigbee Commands To Configure the Start And Stop Limits for a Zemismart ZM25 Zigbee Blind Motor"
                    loading="lazy"
                >
            </figure>
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Zigbee Commands To Configure the Start And Stop Limits for a Zemismart ZM25 Zigbee Blind Motor</h3>
                    <p class="gh-card-excerpt is-body">If you use Home Assistant and Zigbee2MQTT, you can use the following script to configure the motor limits for your Zemismart Zigbee blinds.

alias: Update Zemismart ZM25 Blind Motor Limit
fields:
  entity_id:
    required: true
    description: Entity ID of your cover entity
    example: cover.blinds
    selector:
      entity:
        filter:
          domain: cover</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2024-05-03">May 3, 2024</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post">
    <a class="gh-card-link" href="/2024/05/03/3d-printed-blinds-motor-adapter/">
            <figure class="gh-card-image">
                <img
                    srcset="/content/images/size/w160/format/webp/2024/05/IMG_9558.jpeg 160w,
                            /content/images/size/w320/format/webp/2024/05/IMG_9558.jpeg 320w,
                            /content/images/size/w600/format/webp/2024/05/IMG_9558.jpeg 600w,
                            /content/images/size/w960/format/webp/2024/05/IMG_9558.jpeg 960w,
                            /content/images/size/w1200/format/webp/2024/05/IMG_9558.jpeg 1200w,
                            /content/images/size/w2000/format/webp/2024/05/IMG_9558.jpeg 2000w"
                    sizes="320px"
                    src="/content/images/size/w600/2024/05/IMG_9558.jpeg"
                    alt="3D Printed Blinds Motor Adapter"
                    loading="lazy"
                >
            </figure>
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">3D Printed Blinds Motor Adapter</h3>
                    <p class="gh-card-excerpt is-body">I bought a Zigbee motor for some blinds in our living room. I got it on AliExpress. Blind motors can be really expensive from New Zealand suppliers. I got a quote from one supplier for $350 per motor, but you can find motors on AliExpress for less than $100. The</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2024-05-03">May 3, 2024</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                            <article class="gh-card post">
    <a class="gh-card-link" href="/2024/04/26/do-we-need-more-html-colors/">
            <figure class="gh-card-image">
                <img
                    srcset="https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;160 160w,
                            https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;320 320w,
                            https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                            https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w,
                            https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1200 1200w,
                            https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;webp&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
                    sizes="320px"
                    src="https://images.unsplash.com/photo-1603302576837-37561b2e2302?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDZ8fGNvbG9yJTIwY29kZXxlbnwwfHx8fDE3MTQxNzUzNzJ8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600"
                    alt="Do we need more HTML colors?"
                    loading="lazy"
                >
            </figure>
        <div class="gh-card-wrapper">
            <h3 class="gh-card-title is-title">Do we need more HTML colors?</h3>
                    <p class="gh-card-excerpt is-body">I wrote a blog post about painting my fence. This got me thinking a lot about colors and how I use them as a web developer.

Color Matching Paint In GIMP: Don’t Make These MistakesPlease note: This post is a stream-of-conciousness journal entry that describes all of the mistakes</p>
            <footer class="gh-card-meta">
<!--
             -->
                    <span class="gh-card-author">By Nathan Broadbent</span>
                    <time class="gh-card-date" datetime="2024-04-27">Apr 27, 2024</time>
                <!--
         --></footer>
        </div>
    </a>
</article>                    </div>
                </div>
            </section>

    
    <footer class="gh-footer gh-outer">
    <div class="gh-footer-inner gh-inner">

        <div class="gh-footer-bar">
            <span class="gh-footer-logo is-title">
                    Made By Nathan
            </span>
            <nav class="gh-footer-menu">
                <ul class="nav">
    <li class="nav-sign-up"><a href="#/portal/">Sign up</a></li>
</ul>

            </nav>
            <div class="gh-footer-copyright">
                Powered by <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
            </div>
        </div>


    </div>
</footer>    
</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script src="/assets/built/source.js?v=500e4eef8e"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
